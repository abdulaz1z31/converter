# Видео Конвертер (MOV → MP4)

Этот сервис позволяет загружать `.mov` файлы, конвертировать их в `.mp4` и скачивать готовые файлы.
Используются `worker_threads` для обработки в фоновом режиме и `queue` для оптимального управления задачами.

## Установка

1. Клонировать репозиторий:
   ```sh
   git clone https://github.com/abdulaz1z31/converter.git
   cd convertor
   ```
2. Установить зависимости:
   ```sh
   npm install
   ```
3. Запустить сервер:
   ```sh
   npm start
   ```

## Использование

### Загрузка видео

**Метод:** `POST /upload`

**Описание:** Отправляет `.mov` файл для конвертации.

**Пример запроса:**

```sh
curl -X POST -F "video=@video.mov" http://localhost:3000/upload
```

**Пример ответа:**

```json
{ "filename": "1707321234.mp4" }
```

Если загружаемый файл не в формате `.mov`, сервер вернет ошибку:

```json
{ "error": "Only files in .mov format can be converted" }
```

### Скачивание видео

**Метод:** `GET /download/{filename}`

**Описание:** Позволяет скачать готовый `.mp4` файл.

**Пример запроса:**

```sh
curl -O http://localhost:3000/download/1707321234.mp4
```

Если файл не найден, сервер вернет ошибку:

```json
{ "error": "File not found" }
```

## Дополнительно

- Оригинальные `.mov` файлы могут быть удалены после конвертации.
- Для обработки используется очередь задач, что позволяет избежать перегрузки сервера.
- Конвертация выполняется в отдельном потоке, что не блокирует основной процесс.
